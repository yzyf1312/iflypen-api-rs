# IFlyPen API Rust SDK

拥有讯飞录音笔可以享受免费服务？想要快速将流媒体转换为文字？希望快速总结线上会议的内容？通过本项目，您可以突破硬件限制，将本地音频文件快速转换为文字，自动生成会议纪要，甚至调用AI模型进行内容总结与翻译——这一切无需依赖讯飞录音笔硬件即可享受终身免费服务。

## 项目说明

本 SDK 基于对讯飞听见客户端协议的逆向分析实现，用于访问 IFlyPen API，主要特性：
- ✅ 本地音频文件转写任务提交
- ✅ 任务状态与结果可通过此 SDK 获取
- 🚫 暂未实现多线程上传支持
- 🚫 暂未实现 AI 总结生成
- 🚫 暂未实现实时转写/翻译引擎

### 什么是 IFlyPen API？

IFlyPen API 是讯飞听见客户端 API 的一个特殊版本。本仓库是其 Rust 实现。这个 API 版本为购买了讯飞录音笔的用户提供了终身免费的各种服务，譬如语音转文字、AI 总结、全文翻译等。

本项目旨在解除讯飞对于这套免费 API 的限制（必须使用讯飞录音笔录制否则不可享受权益），为使用者提供便利。

## 快速开始

### 依赖安装
```bash
cargo add --git https://github.com/yzyf1312/iflypen-api-rs.git
```

### 示例

详见 `src/bin/iflypen-cli.rs`，你可以通过运行 `cargo run` 来体验它。

## 项目结构

项目已重构为模块化架构：

```
src/
├── api/            # API 交互模块
│   ├── client.rs   # 客户端实现
│   ├── constants.rs # API 常量与 URL
│   ├── model.rs    # 数据模型与结构体
│   └── mod.rs      # 模块导出
├── error.rs        # 基于 thiserror 的错误处理
├── util.rs         # 工具函数
├── lib.rs          # 库入口点
└── bin/            # CLI 应用程序
    └── iflypen-cli.rs
```

### 主要特性

- **模块化设计**: 职责分离清晰，各模块功能独立
- **完善的错误处理**: 使用 thiserror 定义自定义错误类型
- **安全性**: 使用 secrecy 保护敏感信息
- **可维护性**: 代码风格统一，文档完善

## 开发路线图

| 功能模块         | 开发状态 | 目标版本 |
| ---------------- | -------- | -------- |
| 语音转写任务提交 | ✅ 已实现 | v1.0     |
| 任务结果查询     | ✅ 已实现 | v1.1     |
| 账户历史记录访问 | ✅ 已实现 | v1.2     |
| 多线程上传支持   | 🔧 开发中 | v2.1     |
| AI总结生成       | 🚧 筹备中 | v2.2     |
| 实时翻译引擎     | 🚧 筹备中 | v2.3     |
| 批量任务处理     | 🚧 筹备中 | v2.4     |

## 警告

本项目实际上违反了[讯飞听见用户协议](https://static.iflyrec.com/v1/iflyrectjpt/publicread01/privacyPolicy/tjzs/userPrivacyPolicy.html)的 **五-7-（2）-8）** 与 **五-7-（3）**，使用者可能因使用本项目访问讯飞服务而遭受损失。具体处罚可见讯飞听见用户协议的**十一：违约处理**。

**本项目仅供协议分析与技术研究，请遵守讯飞官方服务条款。任何因使用本项目造成的损失均由使用者自行承担责任。**

## 贡献指南

本项目接受以下形式的贡献：

- 逆向工程/数据包捕获样本及其分析成果
- 文档完善与补充示例
- 错误修复与日志优化

如果你想要参与项目贡献或有任何疑问，欢迎提交 issue 或 pull request。

## 协议说明

本项目采用 MIT 开源协议，但所有使用行为：

- 不受讯飞官方认可或支持
- 需自行承担法律风险
- 不包含任何服务保证
